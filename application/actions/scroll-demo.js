'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = scrollDemo;
var type = exports.type = 'SCROLL_DEMO';

var loop = void 0;
var frame = void 0;

function scrollDemo(payload) {
	return function (dispatch, getState) {
		function run() {
			loop = global.requestAnimationFrame(function () {
				var state = getState();

				if (state.scrollDemoX.x !== frame.x) {
					dispatch({
						type: 'SCROLL_DEMO_X',
						payload: frame.x
					});
				}
				if (state.scrollDemoY.y !== frame.y) {
					dispatch({
						type: 'SCROLL_DEMO_Y',
						payload: frame.y
					});
				}
				run();
			});
		}

		if (!loop) {
			run();
		}

		frame = payload;
	};
}

scrollDemo.type = type;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9hY3Rpb25zL3Njcm9sbC1kZW1vLmpzIl0sIm5hbWVzIjpbInNjcm9sbERlbW8iLCJ0eXBlIiwibG9vcCIsImZyYW1lIiwicGF5bG9hZCIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJydW4iLCJnbG9iYWwiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGF0ZSIsInNjcm9sbERlbW9YIiwieCIsInNjcm9sbERlbW9ZIiwieSJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQWVBLFU7QUFDUixJQUFNQyxzQkFBTyxhQUFiOztBQUVQLElBQUlDLGFBQUo7QUFDQSxJQUFJQyxjQUFKOztBQUVBLFNBQVNILFVBQVQsQ0FBb0JJLE9BQXBCLEVBQTZCO0FBQzVCLFFBQU8sVUFBQ0MsUUFBRCxFQUFXQyxRQUFYLEVBQXdCO0FBQzlCLFdBQVNDLEdBQVQsR0FBZTtBQUNkTCxVQUFPTSxPQUFPQyxxQkFBUCxDQUE2QixZQUFNO0FBQ3pDLFFBQU1DLFFBQVFKLFVBQWQ7O0FBRUEsUUFBSUksTUFBTUMsV0FBTixDQUFrQkMsQ0FBbEIsS0FBd0JULE1BQU1TLENBQWxDLEVBQXFDO0FBQ3BDUCxjQUFTO0FBQ1JKLFlBQU0sZUFERTtBQUVSRyxlQUFTRCxNQUFNUztBQUZQLE1BQVQ7QUFJQTtBQUNELFFBQUlGLE1BQU1HLFdBQU4sQ0FBa0JDLENBQWxCLEtBQXdCWCxNQUFNVyxDQUFsQyxFQUFxQztBQUNwQ1QsY0FBUztBQUNSSixZQUFNLGVBREU7QUFFUkcsZUFBU0QsTUFBTVc7QUFGUCxNQUFUO0FBSUE7QUFDRFA7QUFDQSxJQWhCTSxDQUFQO0FBaUJBOztBQUVELE1BQUksQ0FBQ0wsSUFBTCxFQUFXO0FBQ1ZLO0FBQ0E7O0FBRURKLFVBQVFDLE9BQVI7QUFDQSxFQTFCRDtBQTJCQTs7QUFFREosV0FBV0MsSUFBWCxHQUFrQkEsSUFBbEIiLCJmaWxlIjoic2Nyb2xsLWRlbW8uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBzY3JvbGxEZW1vO1xuZXhwb3J0IGNvbnN0IHR5cGUgPSAnU0NST0xMX0RFTU8nO1xuXG5sZXQgbG9vcDtcbmxldCBmcmFtZTtcblxuZnVuY3Rpb24gc2Nyb2xsRGVtbyhwYXlsb2FkKSB7XG5cdHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG5cdFx0ZnVuY3Rpb24gcnVuKCkge1xuXHRcdFx0bG9vcCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XG5cblx0XHRcdFx0aWYgKHN0YXRlLnNjcm9sbERlbW9YLnggIT09IGZyYW1lLngpIHtcblx0XHRcdFx0XHRkaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnU0NST0xMX0RFTU9fWCcsXG5cdFx0XHRcdFx0XHRwYXlsb2FkOiBmcmFtZS54XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHN0YXRlLnNjcm9sbERlbW9ZLnkgIT09IGZyYW1lLnkpIHtcblx0XHRcdFx0XHRkaXNwYXRjaCh7XG5cdFx0XHRcdFx0XHR0eXBlOiAnU0NST0xMX0RFTU9fWScsXG5cdFx0XHRcdFx0XHRwYXlsb2FkOiBmcmFtZS55XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cnVuKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIWxvb3ApIHtcblx0XHRcdHJ1bigpO1xuXHRcdH1cblxuXHRcdGZyYW1lID0gcGF5bG9hZDtcblx0fTtcbn1cblxuc2Nyb2xsRGVtby50eXBlID0gdHlwZTtcbiJdfQ==