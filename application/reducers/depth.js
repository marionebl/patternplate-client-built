'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.getDepth = getDepth;

var _reduxActions = require('redux-actions');

function getDepth(pathname) {
	var fragments = pathname.split('/').filter(Boolean);
	var fragmentIndex = fragments.indexOf('pattern');

	var index = fragmentIndex === -1 ? fragments.length : fragmentIndex;

	return fragments.slice(0, index).filter(Boolean).length;
}

exports.default = (0, _reduxActions.handleAction)('@@router/LOCATION_CHANGE', {
	next: function next(_, _ref) {
		var pathname = _ref.payload.pathname;

		return getDepth(pathname);
	}
}, '.');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9hcHBsaWNhdGlvbi9yZWR1Y2Vycy9kZXB0aC5qcyJdLCJuYW1lcyI6WyJnZXREZXB0aCIsInBhdGhuYW1lIiwiZnJhZ21lbnRzIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiZnJhZ21lbnRJbmRleCIsImluZGV4T2YiLCJpbmRleCIsImxlbmd0aCIsInNsaWNlIiwibmV4dCIsIl8iLCJwYXlsb2FkIl0sIm1hcHBpbmdzIjoiOzs7OztRQUVnQkEsUSxHQUFBQSxROztBQUZoQjs7QUFFTyxTQUFTQSxRQUFULENBQWtCQyxRQUFsQixFQUE0QjtBQUNsQyxLQUFNQyxZQUFZRCxTQUFTRSxLQUFULENBQWUsR0FBZixFQUFvQkMsTUFBcEIsQ0FBMkJDLE9BQTNCLENBQWxCO0FBQ0EsS0FBTUMsZ0JBQWdCSixVQUFVSyxPQUFWLENBQWtCLFNBQWxCLENBQXRCOztBQUVBLEtBQU1DLFFBQVFGLGtCQUFrQixDQUFDLENBQW5CLEdBQ2JKLFVBQVVPLE1BREcsR0FFYkgsYUFGRDs7QUFJQSxRQUFPSixVQUFVUSxLQUFWLENBQWdCLENBQWhCLEVBQW1CRixLQUFuQixFQUEwQkosTUFBMUIsQ0FBaUNDLE9BQWpDLEVBQTBDSSxNQUFqRDtBQUNBOztrQkFFYyxnQ0FBYSwwQkFBYixFQUF5QztBQUN2REUsS0FEdUQsZ0JBQ2xEQyxDQURrRCxRQUN4QjtBQUFBLE1BQVpYLFFBQVksUUFBdEJZLE9BQXNCLENBQVpaLFFBQVk7O0FBQzlCLFNBQU9ELFNBQVNDLFFBQVQsQ0FBUDtBQUNBO0FBSHNELENBQXpDLEVBSVosR0FKWSxDIiwiZmlsZSI6ImRlcHRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtoYW5kbGVBY3Rpb259IGZyb20gJ3JlZHV4LWFjdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVwdGgocGF0aG5hbWUpIHtcblx0Y29uc3QgZnJhZ21lbnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbik7XG5cdGNvbnN0IGZyYWdtZW50SW5kZXggPSBmcmFnbWVudHMuaW5kZXhPZigncGF0dGVybicpO1xuXG5cdGNvbnN0IGluZGV4ID0gZnJhZ21lbnRJbmRleCA9PT0gLTEgP1xuXHRcdGZyYWdtZW50cy5sZW5ndGggOlxuXHRcdGZyYWdtZW50SW5kZXg7XG5cblx0cmV0dXJuIGZyYWdtZW50cy5zbGljZSgwLCBpbmRleCkuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlQWN0aW9uKCdAQHJvdXRlci9MT0NBVElPTl9DSEFOR0UnLCB7XG5cdG5leHQoXywge3BheWxvYWQ6IHtwYXRobmFtZX19KSB7XG5cdFx0cmV0dXJuIGdldERlcHRoKHBhdGhuYW1lKTtcblx0fVxufSwgJy4nKTtcbiJdfQ==